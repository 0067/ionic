

// iOS Transitions
// -------------------------------

$ios-transition-view-duration:              400ms;
$ios-transition-view-timing-function:       cubic-bezier(0.4, 0.6, 0.2, 1);


.ios-transition.nav-forward {
  background-color: #000;

  .ng-animate {
    // stage where the entering view will start from
    @include translate3d(98%, 0, 0);
  }

  .view-pane-add {
    // set the animation for the entering view
    @include animation-name( slideInFromRight, addBoxShadow );
    @include animation-duration( $ios-transition-view-duration );
    @include animation-timing-function( $ios-transition-view-timing-function );
    z-index: $z-index-view-above;
  }

  .view-pane-remove {
    // set the animation for the leaving view
    @include animation-name( slideOutToLeft33, fadeOutToPartial );
    @include animation-duration( $ios-transition-view-duration );
    @include animation-timing-function( $ios-transition-view-timing-function );
    z-index: $z-index-view-below;
  }

}

.ios-transition.nav-back {
  background-color: #000;

  .ng-animate {
    // stage where the entering view will start from
    @include translate3d(-33%, 0, 0);
  }

  .view-pane-add {
    // set the animation for the entering view
    @include animation-name( slideInFromLeft33, fadeInFromPartial );
    @include animation-duration( $ios-transition-view-duration );
    @include animation-timing-function( $ios-transition-view-timing-function );
    z-index: $z-index-view-below;
  }

  .view-pane-remove {
    // set the animation for the leaving view
    @include animation-name( slideOutToRight, removeBoxShadow );
    @include animation-duration( $ios-transition-view-duration );
    @include animation-timing-function( $ios-transition-view-timing-function );
    z-index: $z-index-view-above;
  }

}

.ios-transition.nav-enter,
.ios-transition.nav-exit {

  .ng-animate {
    // stage where the entering view will start from
    @include translate3d(0, 0, 0);
  }

  .view-pane-add {
    // set the animation for the entering view
    @include animation-name( fadeIn );
    @include animation-duration( $ios-transition-view-duration / 2 );
    @include animation-timing-function( $ios-transition-view-timing-function );
    z-index: $z-index-view-above;
  }

  .view-pane-remove {
    // set the animation for the leaving view
    @include animation-name( fadeOutToPartial );
    @include animation-duration( $ios-transition-view-duration / 2 );
    @include animation-timing-function( $ios-transition-view-timing-function );
    z-index: $z-index-view-below;
  }

}



// Android Transitions
// -------------------------------

$android-transition-view-duration:              4000ms;
$android-transition-view-timing-function:       cubic-bezier(0.4, 0.6, 0.2, 1);


.android-transition.nav-forward {
  background-color: #000;

  .ng-animate {
    // stage where the entering view will start from
    @include translate3d(98%, 0, 0);
  }

  .view-pane-add {
    // set the animation for the entering view
    @include animation-name( slideInFromRight );
    @include animation-duration( $android-transition-view-duration );
    @include animation-timing-function( $android-transition-view-timing-function );
    z-index: $z-index-view-above;
  }

  .view-pane-remove {
    // set the animation for the leaving view
    @include translate3d(0, 0, 0);
    @include animation-name( fadeOutToPartial );
    @include animation-duration( $android-transition-view-duration );
    @include animation-timing-function( $android-transition-view-timing-function );
    z-index: $z-index-view-below;
  }

}

.android-transition.nav-back {
  background-color: #000;

  .ng-animate {
    // stage where the entering view will start from
    @include translate3d(0, 0, 0);
  }

  .view-pane-add {
    // set the animation for the entering view
    @include animation-name( fadeInFromPartial );
    @include animation-duration( $android-transition-view-duration );
    @include animation-timing-function( $android-transition-view-timing-function );
    z-index: $z-index-view-below;
  }

  .view-pane-remove {
    // set the animation for the leaving view
    @include animation-name( slideOutToRight );
    @include animation-duration( $android-transition-view-duration );
    @include animation-timing-function( $android-transition-view-timing-function );
    z-index: $z-index-view-above;
  }

}

.android-transition.nav-enter,
.android-transition.nav-exit {

  .ng-animate {
    // stage where the entering view will start from
    @include translate3d(0, 0, 0);
  }

  .view-pane-add {
    // set the animation for the entering view
    @include animation-name( fadeIn );
    @include animation-duration( $android-transition-view-duration / 2 );
    @include animation-timing-function( $android-transition-view-timing-function );
    z-index: $z-index-view-above;
  }

  .view-pane-remove {
    // set the animation for the leaving view
    @include animation-name( fadeOutToPartial );
    @include animation-duration( $android-transition-view-duration / 2 );
    @include animation-timing-function( $android-transition-view-timing-function );
    z-index: $z-index-view-below;
  }

}

.menu-open .ios-transition.nav-back .ng-animate .view-pane-add,
.menu-open .ios-transition.nav-back .ng-animate .view-pane-remove,
.menu-open .ios-transition.nav-forward .ng-animate .view-pane-add,
.menu-open .ios-transition.nav-forward .ng-animate .view-pane-remove {
  @include animation-duration( 0 );
}


// Intermediate Settings Between Steps Of A Transition
// -------------------------------
// These prevent flickers as elements are added and removed,
// holds their correct opacity between setting final states

.view-entering, // entering: before animate
.view-active.view-leaving // leaving: after animate
{
  opacity: 0;
}

.view-entering.view-pane, // entering: during and after animate
.view-active.view-leaving.ng-animate // leaving: before and during animate
{
  opacity: 1;
}



// View Transition Defaults (no animation)
// -------------------------------

.view-pane-add {
  @include animation-name( fadeIn );
}

.view-pane-remove {
  @include animation-name( fadeOut );
}

.view-pane-add,
.view-pane-remove {
  opacity: 1;
  @include animation-duration( 0 );
  @include animation-fill-mode( forwards );
}

.no-animation {
  > .ng-enter, &.ng-enter, > .ng-leave, &.ng-leave {
    @include transition(none);
  }
}
.noop-animation {
  > .ng-enter, &.ng-enter, > .ng-leave, &.ng-leave {
    @include transition(all cubic-bezier(0.250, 0.460, 0.450, 0.940) 250ms);
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
}


// required for Android
.ng-animate .pane {
  position: absolute;
}

